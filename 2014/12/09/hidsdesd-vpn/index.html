<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="知道自己想要做什么,比怎么做更重要">
    

    <!--Author-->
    
        <meta name="author" content="klion">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="CentOS 6.x 编译安装配置openvpn"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="知道自己想要做什么,比怎么做更重要" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="klion&#39;s blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>CentOS 6.x 编译安装配置openvpn - klion&#39;s blog</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about">
                    about me
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact">
                    blogs
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2014/12/09/hidsdesd-vpn/">
                CentOS 6.x 编译安装配置openvpn
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-12-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/vpn-config/">vpn config</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <p><br><br>1,关于openvpn<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">OpenVPN是一个基于OpenSSL加密库的应用层开源VPN实现</div></pre></td></tr></table></figure></p>
<p>2,openvpn 可工作于两种模式：<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tun 一种是IP遂道路由模式,主要应用于点对点</div><div class="line">eth 一种是基于以太网的遂道桥模式,应用于点对多点,有多个分支机构</div></pre></td></tr></table></figure></p>
<p>3,openvpn 提供的两种安全模式：<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Static Key</div><div class="line">X509 PKI (Public Key Infrastructure)</div></pre></td></tr></table></figure></p>
<p>4,安装openvpn前的一些必要的环境准备,务必事先让所有机器时间都同步,这非常重要,客户端和服务器端时间要一致,否则容易出问题<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /usr/sbin/ntpdate pool.ntp.org  可以把此命令加到定时任务中</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">准备好两个软件包:</div><div class="line"><span class="comment"># wget http://www.oberhumer.com/opensource/lzo/download/lzo-2.06.tar.gz 数据压缩库源码包</span></div><div class="line"><span class="comment"># wget https://build.openvpn.net/downloads/releases/openvpn-2.2.2.tar.gzopenvpn的源码包</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">禁用<span class="symbol">selinux:</span></div><div class="line"><span class="comment"># setenforce 0 </span></div><div class="line"><span class="comment"># sed -i '/^SELINUX=/c\SELINUX=disabled' /etc/selinux/config</span></div><div class="line"><span class="comment"># shutdown -r now    关闭selinux以后一定要记得重启下系统</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">安装C编译器和openssl依赖库,因为openvpn依赖openssl进行数据加密</div><div class="line"><span class="comment"># yum install -y  gcc gcc-c++ openssl openssl-devel</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">编译安装LZO 它主要用于压缩通讯数据加快传输速度</div><div class="line"><span class="comment"># tar -zxf lzo-2.06.tar.gz</span></div><div class="line"><span class="comment"># cd lzo-2.06</span></div><div class="line"><span class="comment"># ./configure --prefix=/usr/local/lzo</span></div><div class="line"><span class="comment"># make &amp;&amp; make install</span></div><div class="line"><span class="comment"># echo $?</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">tun/tap</div><div class="line">OpenVpn要使用TUN/TAP作为接口建立隧道,但需要内核支持,TUN 接口创建的是三层路由隧道,建立方便</div><div class="line">TAP 是二层网卡桥接隧道,即创建一个以太网桥接,相对复杂</div><div class="line">    TUN 接口下所有的客户端处于一个完全独立的子网内,与 VPN 服务器所在的子网没有关系</div><div class="line">    TAP 接口的好处相较之下则相当明显,客户端可以获得 VPN 服务器所处子网的 IP(即,忽略物理上的区别,可以完全将客户端看做是于 VPN 服务器处于同一子网的另一台机器)</div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">检查内核是否支持TUN/TAP设备驱动,确定内核支持TUN/TAP模块之后,加载模块</div><div class="line"><span class="comment"># modinfo tun      # 加载,如果有正常的输出,则支持</span></div><div class="line"><span class="comment"># lsmod tun        # 检查</span></div><div class="line"><span class="comment"># ls /dev/net/tun  # 检查文件是否存在判断tun模块是否已经被加载</span></div></pre></td></tr></table></figure>
<p>5,编译安装OpenVPN<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># tar -zxf openvpn-2.2.2.tar.gz</span></div><div class="line"><span class="comment"># cd openvpn-2.2.2</span></div><div class="line"><span class="comment"># ./configure --with-lzo-headers=/usr/local/lzo/include --with-lzo-lib=/usr/local/lzo/lib</span></div><div class="line"><span class="comment"># make &amp;&amp; make install</span></div><div class="line"><span class="comment"># echo $?</span></div><div class="line"><span class="comment"># which openvpn  如果能看到路径,说明openvpn已经安装成功,默认是在/usr/local/sbin/openvpn目录下</span></div></pre></td></tr></table></figure></p>
<p>6,配置openvpn<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">修改证书变量 </div><div class="line"><span class="comment"># cd easy-rsa/2.0/</span></div><div class="line"><span class="comment"># cp -a vars vars.bak</span></div><div class="line"><span class="comment"># cat vars  # 自定义修改如下内容</span></div><div class="line"></div><div class="line"><span class="comment"># vi vars</span></div><div class="line">	export KEY_COUNTRY=<span class="string">"CN"</span></div><div class="line">	export KEY_PROVINCE=<span class="string">"BJ"</span></div><div class="line">	export KEY_CITY=<span class="string">"Beijing"</span></div><div class="line">	export KEY_ORG=<span class="string">"sec"</span></div><div class="line">	export KEY_EMAIL=<span class="string">"sec@gmail.com"</span></div><div class="line">	export KEY_EMAIL=sec@gmail.com</div><div class="line">	export KEY_CN=CN</div><div class="line">	export KEY_NAME=klionsec</div><div class="line">	export KEY_OU=klionsec</div><div class="line">	export PKCS11_MODULE_PATH=changeme</div><div class="line">	export PKCS11_PIN=<span class="number">1234</span></div></pre></td></tr></table></figure></p>
<p>初始化证书变量,并生成ca和服务端证书<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># source vars</span></div><div class="line"><span class="comment"># ./clean-all  	# 把原来的证书全部清空</span></div><div class="line"><span class="comment"># ./build-ca   	# 生成根证书ca.crt和根密钥ca.key(一路按回车即可),因为vars文件已经在上面定义好了默认的变量值,生成的时候会逐个读取里面的值</span></div><div class="line"><span class="comment"># ls keys/   	# 看下刚刚生成的ca证书在keys目录里有没有</span></div><div class="line"><span class="comment"># ./build-key-server server # 为服务端生成证书和密钥(中间会有两个让你输入密码的地方,注意两次的密码要保持一致,然后按照提示输入y即可,共两次)</span></div><div class="line"><span class="comment"># ls keys/</span></div></pre></td></tr></table></figure></p>
<p>每一个登陆的VPN客户端需要有一个证书,每个证书在同一时刻只能供一个客户端连接,下面开始生成客户端证书,注意这个是不带密码的<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ./build-key client  # 为客户端生成证书和密钥(中间也会有两个让你输入密码的地方,跟上面保持一致,然后按照提示输入y即可,共两次)</span></div><div class="line"><span class="comment"># ll keys/</span></div></pre></td></tr></table></figure></p>
<p>创建带密码的客户端证书<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ./build-key-pass ett  带密码的证书,即使你拿到了证书,如果没密码也不行</span></div><div class="line"><span class="comment"># ll keys/</span></div></pre></td></tr></table></figure></p>
<p>生成秘钥协议文件<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ./build-dh     # 创建迪菲·赫尔曼密钥,会生成dh2048.pem文件(生成过程可能会比较慢,在此期间不要去中断它)</span></div><div class="line"><span class="comment"># ll keys/</span></div><div class="line"><span class="comment"># openvpn --genkey --secret keys/ta.key  # 生成ta.key文件(防DDos攻击,UDP淹没等恶意攻击)</span></div></pre></td></tr></table></figure></p>
<p>7,创建并配置openvpn服务器端配置文件,将需要用到的openvpn证书和密钥复制一份到创建好的keys目录中<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># mkdir -pv /etc/openvpn</span></div><div class="line"><span class="comment"># cp -r keys/ /etc/openvpn/</span></div><div class="line"><span class="comment"># cd ../../</span></div><div class="line"><span class="comment"># cp sample-config-files/&#123;server.conf,client.conf&#125; /etc/openvpn/</span></div><div class="line"><span class="comment"># tree /etc/openvpn/</span></div><div class="line"><span class="comment"># cd  /etc/openvpn/</span></div><div class="line"><span class="comment"># cp -a server.conf server.conf.bak</span></div><div class="line"><span class="comment"># grep '^[^#;]' /etc/openvpn/server.conf</span></div><div class="line"><span class="comment"># grep '^[^#;]' /etc/openvpn/server.conf &gt;&gt; tmp.txt</span></div><div class="line"><span class="comment"># cat tmp.txt &gt; server.conf</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 服务端完整配置</span></div><div class="line"></div><div class="line">local <span class="number">192.168</span>.<span class="number">3.30</span></div><div class="line">port <span class="number">1194</span></div><div class="line">proto tcp</div><div class="line">dev tun</div><div class="line">ca /etc/openvpn/keys/ca.crt</div><div class="line">cert /etc/openvpn/keys/server.crt</div><div class="line">key /etc/openvpn/keys/server.key </div><div class="line">dh /etc/openvpn/keys/dh1024.pem</div><div class="line">server <span class="number">10.8</span>.<span class="number">0</span>.<span class="number">0</span> <span class="number">255.255</span>.<span class="number">255.0</span></div><div class="line">push <span class="string">"redirect-gateway def1 bypass-dhcp"</span></div><div class="line">push <span class="string">"dhcp-option DNS 114.114.114.114"</span></div><div class="line">push <span class="string">"dhcp-option DNS 8.8.8.8"</span></div><div class="line">client-to-client</div><div class="line">ifconfig-pool-persist ipp.txt</div><div class="line">keepalive <span class="number">10</span> <span class="number">120</span></div><div class="line">comp-lzo</div><div class="line">duplicate-cn </div><div class="line">client-to-client</div><div class="line">persist-key</div><div class="line">persist-tun</div><div class="line">status openvpn-status.log</div><div class="line">log /etc/openvpn/openvpn.log</div><div class="line">verb <span class="number">3</span></div></pre></td></tr></table></figure>
<p>8,开始配置内核和防火墙(要允许openvpn),启动服务,并让其自启动<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">开启系统路由转发</div><div class="line"><span class="comment"># sed -i '/net.ipv4.ip_forward/s/0/1/' /etc/sysctl.conf</span></div><div class="line"><span class="comment"># sysctl -p  让其立马生效</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">如果开启了iptables,记得把<span class="number">1194</span>端口允许一下</div><div class="line"><span class="comment"># iptables -A INPUT -p tcp --dport 1194 -j ACCEPT</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">启动openvpn</div><div class="line"><span class="comment"># /usr/local/sbin/openvpn --config /etc/openvpn/server.conf &amp;</span></div><div class="line"><span class="comment"># netstat -tulnp | grep vpn</span></div><div class="line"><span class="comment"># echo "/usr/local/sbin/openvpn --config /etc/openvpn/server.conf &amp;" &gt;&gt; /etc/rc.local</span></div><div class="line"><span class="comment"># tail -n 20 /etc/rc.local</span></div><div class="line"><span class="comment"># ifconfig  -a    openvpn一旦启动后就会多出一个tun0的网卡</span></div></pre></td></tr></table></figure>
<p><img src="/img/start openvpn.png" alt=""><br><br><img src="/img/centos ipaddr.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">把openvpn脚本加入系统自启动,不一定非要这样做</div><div class="line"><span class="comment"># cp sample-scripts/openvpn.init /etc/init.d/openvpn</span></div><div class="line"><span class="comment"># chmod 700 /etc/init.d/openvpn</span></div><div class="line"><span class="comment"># chkconfig --level 2345 openvpn on</span></div><div class="line"><span class="comment"># chkconfig --list</span></div><div class="line"><span class="comment"># /etc/init.d/openvpn restart  会有报错</span></div><div class="line"><span class="comment"># vi /etc/init.d/openvpn     把148行的*.conf改成server.conf,这个目录下不能有多个.conf否则会被干扰到</span></div><div class="line"><span class="comment"># /etc/init.d/openvpn restart  正常启动</span></div><div class="line"><span class="comment"># lsof -i :1194</span></div></pre></td></tr></table></figure></p>
<p>9,创建客户端配置文件 client.ovpn<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">win openvpn客户端下载:</div><div class="line"><span class="symbol">http:</span>/<span class="regexp">/swupdate.openvpn.org/community</span><span class="regexp">/releases/openvpn</span>-<span class="number">2.2</span>.<span class="number">2</span>-install.exe</div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">将 ca.crt client.crt client.key client.ovpn 文件复制到<span class="symbol">C:</span>\Program Files\OpenVPN\config[这里是我自己的openvpn客户端的安装目录,你要换成你自己的]</div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># client.ovpn[客户端]完整配置如下 </span></div><div class="line"></div><div class="line">client</div><div class="line">dev tun</div><div class="line">proto tcp</div><div class="line">remote <span class="number">192.168</span>.<span class="number">3.30</span> <span class="number">1194</span></div><div class="line">resolv-<span class="keyword">retry</span> infinite</div><div class="line">nobind</div><div class="line">persist-key</div><div class="line">persist-tun</div><div class="line">ca ca.crt</div><div class="line">cert client.crt</div><div class="line">key client.key</div><div class="line">ns-cert-type server</div><div class="line">comp-lzo</div><div class="line">verb <span class="number">3</span></div></pre></td></tr></table></figure>
<p><img src="/img/win openvpn.png" alt=""><br><br><img src="/img/win client.png" alt=""><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">之后,右键<span class="string">'管理员权限'</span>运行openvpn客户端,点击<span class="string">'connect'</span>,进行连接即可,这里虽然连上了,但还有些问题,细心的朋友可能也已经发现了,我的vpn网关貌似没了,也就是说我虽然连上了,但还是上不了网,查了可半天也没看到问题在哪儿,朋友们如果看到哪步配置里有错,麻烦也告知下本人,感激不尽</div></pre></td></tr></table></figure>
<p><img src="/img/win openvpn res.png" alt=""><br><br><img src="/img/win openvpn connect res.png" alt=""><br><br><img src="/img/openvpn ipconfig .png" alt=""><br></p>
<p>10,在linux下安装openvpn客户端<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">像上面安装openvpn一模一样,再到要连接vpn的服务器上安装一遍,把客户端证书和配置拷贝到相应(<span class="regexp">/etc/openvpn</span><span class="regexp">/)的目录下然后以上面启动openvpn服务的方式启动客户端,只不过这次要加载的配置文件不再是server.conf而是client.conf</span></div></pre></td></tr></table></figure></p>
<p>11,搭建openvpn过程中,容易出现的一些错误及解决办法:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">时区不统一造成的错误,</div><div class="line">连上了却不能上网,通常是网关或者路由转发的问题</div></pre></td></tr></table></figure></p>
<p><br></p>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/openvpn/">#openvpn</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>

</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">

<center>
<span>有偿提供各类详细靠谱的安全优化加固方案,入侵取证及全方位企业内部及个人安全培训...<font color="red"> &nbsp;&nbsp;klion@protonmail.com</span><br>
<br>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">博客累计访问量 <span id="busuanzi_value_site_pv"></span> </span>
<span id="busuanzi_container_site_uv">
累计访客数 <span id="busuanzi_value_site_uv"></span> 
</span>
<span id="showDays"></span>
<script>
var birthDay = new Date("12/28/2014");
var now = new Date();
var duration = now.getTime() - birthDay.getTime(); 
var total= Math.floor(duration / (1000 * 60 * 60 * 24));
document.getElementById("showDays").innerHTML = " 其实,博客已默默独自坚挺了 "+total+" 天";
</script>
<br>
<br>
多年实战渗透经验积累[大中小型网络] + 娴熟的底层及脚本编写能力 + 熟练的协议分析能力 + 多个大中型安全架构实际设计部署经验 + 良好的逆向分析能力[一定的0day挖掘能力] = 合格安全架构师
<br>
<br>
如果您觉得这些东西对你还有点儿用,欢迎扫码关注个人微信公众号 <font color="white" size=4>apt攻防指南</font> 嘿嘿...
<br><br>
<img src="/img/small.jpg"  alt="klionsec" />
<br>
<br>
<font size=6 color="white">唯一不变的,就是一直在变</font>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klionsec">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/klionsec">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/klionsec">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="http://www.jianshu.com/u/2a4d8b1f03e0">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.zhihu.com/people/klionsec/activities">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:klion@protonmail.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    <strong><font size=4 color=green> Blog by klionsec </font></strong>
                </div>
            </div>
        </div>
    </div>
	<!--
		<audio autoplay="autoplay">
		<source src="/img/Good Day.mp3" type="audio/mpeg" />
		</audio>
	-->
</footer>



<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>