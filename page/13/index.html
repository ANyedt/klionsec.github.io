<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="知道自己想要做什么,比怎么做更重要">
    

    <!--Author-->
    
        <meta name="author" content="klion">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="klion&#39;s blog"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="知道自己想要做什么,比怎么做更重要" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="klion&#39;s blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>page - klion&#39;s blog</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about">
                    about me
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact">
                    blogs
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">klion's blog</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2014/12/11/search-ipinfo/">
                web渗透第一步 之 信息搜集 [ 搜集目标真实ip信息 ]
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-12-11</span>
            
            
            
                <span class="category">
                    <a href="/categories/信息搜集/">信息搜集</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p><br><br>1,在实际渗透中,给我们的目标可能仅仅就是一个域名或者某个组织名,那么该如何仅仅通过一个目标域名或者组织域名来确定目标所在的一些真实ip段呢,下面我们就开始整个信息搜集任务的第一步,搜集目标ip及域名信息,注意,这里我们暂且先不考虑目标是否用了CDN的问题,如何透过cdn找真实ip在后面会做单独说明,这里就先以正常的情况来说明<br><br></p>
<p>2,以 www.cityu.edu.hk 为例,拿到目标域名的第一反应,没别的,先ping下目标域名看看解析情况再说<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ping www.cityu.edu.hk</span></div><div class="line">www.cityu.edu.hk (<span class="number">144.214</span>.<span class="number">5.62</span>) ping 目标主域解析到的ip是这个</div></pre></td></tr></table></figure></p>
<p><br><br>3,虽然没ping通,但这并不影响我们看它解析到的ip,不通的原因,还要看它提示的是什么,如果是超时,多半是因为防火墙拦截了imcp请求,不过这并不是重点,重点是我们已经发现这个域名被解析到了这个ip上,而且被解析的这个域名依然是 www.cityu.edu.hk,其实,从这里基本就已经可以确定这个ip就是目标的真实ip段内的[搞多了,自然就会有感觉],不信的话,我们可以直接尝试在浏览器中访问下解析到的这个ip,看看是不是会自动跳转到www.cityu.edu.hk 这个域名上的网页上,但仅仅就这一个ip还是远远不够的,对一个这种规模的大学来讲,机器肯定不再少数,我们接着往下走……<br><img src="/img/www.cityu.edu.hk.png" alt=""><br></p>
<p>4,ping 完主域,顺手再来ping下子域,依然是没ping通,不过我们看到这个子域也被解析到了这个ip上[很可能是代理服务器或者负载均衡器什么的]<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ping cityu.edu.hk</span></div><div class="line">cityu.edu.hk (<span class="number">144.214</span>.<span class="number">5.62</span>)</div></pre></td></tr></table></figure></p>
<p><img src="/img/cityu.edu.hk.png" alt=""><br></p>
<p>5,通过上面简单的ping,我们已初步发现目标所在的其中一个真实ip段,但仅仅只有这一个段还是远远不够的[像这种规模的大学,几乎整个B段都可能是它的],接着我们可以从目标的mx,ns,a记录入手,至于这些记录具体都是干什么的,这里就不细说了,大家请自行谷歌,因为我们今天的重点并不在这些记录本身,而仅仅是想通过这些记录[子域]获取一些目标的真实ip段,如下,推荐dig,nslookup不太准[非权威查询]<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">查目标的mx记录:</div><div class="line"><span class="comment"># dig +short @8.8.8.8 cityu.edu.hk mx</span></div><div class="line">smtp.cityu.edu.hk (<span class="number">144.214</span>.<span class="number">4.72</span>)  很显然,这只是目标的一个子域,根据ping解析到的结果我们发现这个ip也确实是香港ip,跟ping主域返回的结果是<span class="number">144.214</span>.<span class="number">5.62</span>,貌似是差了一个<span class="string">'C'</span>段,不过,大致可以确定是目标的真实ip段</div></pre></td></tr></table></figure></p>
<p><img src="/img/cityu mx 1.png" alt=""><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cityu-edu-hk.mail.protection.outlook.com (<span class="number">65.55</span>.<span class="number">88.234</span>)  注意此域名,它并非目标子域,很显然是挂到outlook上的,ip也不是香港的,所以,此ip对我们实际的渗透意义并不大,可以忽略</div></pre></td></tr></table></figure></p>
<p><img src="/img/cityu mx 2.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">查目标ns记录:</div><div class="line"><span class="comment"># dig +short @8.8.8.8 cityu.edu.hk ns</span></div><div class="line">cpccspc.cityu.edu.hk (<span class="number">144.214</span>.<span class="number">5.254</span>) 目标子域,ip和主域处在同一C段中,可以确定为目标真实ip</div></pre></td></tr></table></figure></p>
<p><img src="/img/cityu ns 1.png" alt=""></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vax.cityu.edu.hk (<span class="number">144.214</span>.<span class="number">2.1</span>) 目标子域,同处在B段中,初步确定为目标真实ip</div></pre></td></tr></table></figure>
<p><img src="/img/cityu ns 2.png" alt=""></p>
<p>cpccux0.cityu.edu.hk (144.214.5.253) 目标子域,ip和主域处在同一C段中,可以确定为目标真实ip<br><img src="/img/cityu ns 3.png" alt=""><br><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">查目标a记录:</div><div class="line"><span class="comment"># dig +short cityu.edu.hk a</span></div><div class="line"><span class="number">144.214</span>.<span class="number">5.62</span>   和直接ping的结果一致,确定为真实ip</div></pre></td></tr></table></figure>
<p><br></p>
<p>6,当然,你可以从一些第三方网站上获取到目标的一些ip及域名信息,下面就推荐几个自己常用的<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ip138的数据库还是蛮不错的,主要是更新频繁,只需提供一个目标ip或者域名[给子域就好了]即可定位ip所在地,如果你想把它写到脚本中批量查,它也提供查询接口,付点儿费,然后把接口写到你的脚本中即可</div><div class="line"></div><div class="line">www.ip138.com</div></pre></td></tr></table></figure></p>
<p><img src="/img/ip138 ip info res.png" alt=""> <img src="/img/ip138 ip info.png" alt=""><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">这是个相对比较老的信息搜集站,直接给个目标子域,它会把目标的一些子域也都列出来,然后你可以挨个点到每个子域里面再去看该子域详情,域名详情包括这个域名ip变更的历史记录[比如,我们发现在www.cityu.edu.hk这个域名上曾经解析到过三个ip,尝试ping下以前的ip看看还在不在,说不定是个入手点呢],web服务器版本型号,操作系统类型[如果是一些低版本的操作系统,我们可以直接尝试比较经典的漏洞exp,比如iis(<span class="number">2000</span> <span class="number">2003</span>)写等等……],域名注册商[如果你想做域名劫持可能会用到],域名所在地等等……,从结果看到我们看到,主域其实是一台f5负载均衡设备[印证了前面的猜测],另外从别的子域里面我们又发现了很多其它的真实ip段</div><div class="line"></div><div class="line">www.netcraft.com</div></pre></td></tr></table></figure>
<p><img src="/img/netcraft.com.png" alt=""><br><img src="/img/netcraft.com res.png" alt=""><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">最后再来查下目标域名的 whois 信息,里面的一些内容对我们渗透也是有一定帮助的,比如,注册时留下的各种联系信息,邮箱,电话,姓名等等……</div><div class="line"></div><div class="line">www.whois.com/whois</div></pre></td></tr></table></figure>
<p>whois里面对我们有用的信息可能也就下面这些:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">注册信息中的邮箱,名字,域名注册时间,过期时间以及当前注册状态</div></pre></td></tr></table></figure></p>
<p><img src="/img/Registrant Contact Information.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">管理员各种联系信息,包括管理员邮箱电话,传真,各种名字[可以用来制作字典]</div></pre></td></tr></table></figure></p>
<p><img src="/img/Administrative Contact.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">目标技术的联系方式,包括邮箱,电话,传真,名称</div></pre></td></tr></table></figure></p>
<p><img src="/img/Technical Contact.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">用于解析该域名的所有ns服务器,从这里面我们发现了两个我们之前在ns记录没查到的域名,不过一看,这很显然就不是目标自己的ns服务器,所以,忽略</div></pre></td></tr></table></figure></p>
<p><img src="/img/Name Servers Information.png" alt=""><br></p>
<p>7,通过上面的初步搜集,我们大致整理出了下面的一些目标真实ip段,因为段比较多,这里并没有都写上去……,关键是大家的搜集思路清晰就好:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">144.214</span>.<span class="number">2.0</span>/<span class="number">24</span></div><div class="line"><span class="number">144.214</span>.<span class="number">4.0</span>/<span class="number">24</span></div><div class="line"><span class="number">144.214</span>.<span class="number">5.0</span>/<span class="number">24</span></div><div class="line"><span class="number">144.214</span>.<span class="number">236.0</span>/<span class="number">24</span></div><div class="line">……</div></pre></td></tr></table></figure></p>
<p><br><br>8,到这一步,初步的ip及域名信息搜集就基本算是完成了,内容确实比较简单,关于工具的使用也比较容易,实在不会,看看命令的相关帮助应该就能明白了,可能最需要注意的地方还是 ping 的时候最好多ping几次,有时候因为自己的网速或者目标的网络问题,也会导致超时,并非一定是防火墙的原因,所以,一般ping 个5,6次就差不多了,当然,这里只是大家告诉你怎么手工去找,相信这里的一点铺垫,到后面会更利于你去理解和使用这一类的信息搜集工具,因为它们的工作流程大致都是如此,只不过我们现在是在手工实现它,还是那句话,实际渗透中怎么快怎么来[以效率为重],后面会说到dnsenum,一个脚本基本就可以把上面说的东西全干了……<br><br><br>9,当然啦,这仅仅还是万里长征的第一步,拿到准确的目标ip段信息,也是为了方便我们后面,对目标机器大概的部署情况做一些简要判断,从中找到一些可能的突破口,这中间还会涉及到cdn的问题,不过不用太着急,后面会再专门针对cdn做单独的详细说明,至于拿到这些真实ip信息以后的事情,就自己随意了,旁站,C段,ddos,爆破…………,自己想怎么发挥都行…<br><br></p>
<h5 id="一点小结"><a href="#一点小结" class="headerlink" title="一点小结:"></a>一点小结:</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;没啥技术含量,方便加深对此类工具的深层理解,顺带留给有需要的朋友<br><br></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2014/12/09/hidsdesd-vpn/">
                CentOS 6.x 编译安装配置openvpn
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-12-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/vpn-config/">vpn config</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p><br><br>1,关于openvpn<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">OpenVPN是一个基于OpenSSL加密库的应用层开源VPN实现</div></pre></td></tr></table></figure></p>
<p>2,openvpn 可工作于两种模式：<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tun 一种是IP遂道路由模式,主要应用于点对点</div><div class="line">eth 一种是基于以太网的遂道桥模式,应用于点对多点,有多个分支机构</div></pre></td></tr></table></figure></p>
<p>3,openvpn 提供的两种安全模式：<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Static Key</div><div class="line">X509 PKI (Public Key Infrastructure)</div></pre></td></tr></table></figure></p>
<p>4,安装openvpn前的一些必要的环境准备,务必事先让所有机器时间都同步,这非常重要,客户端和服务器端时间要一致,否则容易出问题<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /usr/sbin/ntpdate pool.ntp.org  可以把此命令加到定时任务中</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">准备好两个软件包:</div><div class="line"><span class="comment"># wget http://www.oberhumer.com/opensource/lzo/download/lzo-2.06.tar.gz 数据压缩库源码包</span></div><div class="line"><span class="comment"># wget https://build.openvpn.net/downloads/releases/openvpn-2.2.2.tar.gzopenvpn的源码包</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">禁用<span class="symbol">selinux:</span></div><div class="line"><span class="comment"># setenforce 0 </span></div><div class="line"><span class="comment"># sed -i '/^SELINUX=/c\SELINUX=disabled' /etc/selinux/config</span></div><div class="line"><span class="comment"># shutdown -r now    关闭selinux以后一定要记得重启下系统</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">安装C编译器和openssl依赖库,因为openvpn依赖openssl进行数据加密</div><div class="line"><span class="comment"># yum install -y  gcc gcc-c++ openssl openssl-devel</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">编译安装LZO 它主要用于压缩通讯数据加快传输速度</div><div class="line"><span class="comment"># tar -zxf lzo-2.06.tar.gz</span></div><div class="line"><span class="comment"># cd lzo-2.06</span></div><div class="line"><span class="comment"># ./configure --prefix=/usr/local/lzo</span></div><div class="line"><span class="comment"># make &amp;&amp; make install</span></div><div class="line"><span class="comment"># echo $?</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">tun/tap</div><div class="line">OpenVpn要使用TUN/TAP作为接口建立隧道,但需要内核支持,TUN 接口创建的是三层路由隧道,建立方便</div><div class="line">TAP 是二层网卡桥接隧道,即创建一个以太网桥接,相对复杂</div><div class="line">    TUN 接口下所有的客户端处于一个完全独立的子网内,与 VPN 服务器所在的子网没有关系</div><div class="line">    TAP 接口的好处相较之下则相当明显,客户端可以获得 VPN 服务器所处子网的 IP(即,忽略物理上的区别,可以完全将客户端看做是于 VPN 服务器处于同一子网的另一台机器)</div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">检查内核是否支持TUN/TAP设备驱动,确定内核支持TUN/TAP模块之后,加载模块</div><div class="line"><span class="comment"># modinfo tun      # 加载,如果有正常的输出,则支持</span></div><div class="line"><span class="comment"># lsmod tun        # 检查</span></div><div class="line"><span class="comment"># ls /dev/net/tun  # 检查文件是否存在判断tun模块是否已经被加载</span></div></pre></td></tr></table></figure>
<p>5,编译安装OpenVPN<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># tar -zxf openvpn-2.2.2.tar.gz</span></div><div class="line"><span class="comment"># cd openvpn-2.2.2</span></div><div class="line"><span class="comment"># ./configure --with-lzo-headers=/usr/local/lzo/include --with-lzo-lib=/usr/local/lzo/lib</span></div><div class="line"><span class="comment"># make &amp;&amp; make install</span></div><div class="line"><span class="comment"># echo $?</span></div><div class="line"><span class="comment"># which openvpn  如果能看到路径,说明openvpn已经安装成功,默认是在/usr/local/sbin/openvpn目录下</span></div></pre></td></tr></table></figure></p>
<p>6,配置openvpn<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">修改证书变量 </div><div class="line"><span class="comment"># cd easy-rsa/2.0/</span></div><div class="line"><span class="comment"># cp -a vars vars.bak</span></div><div class="line"><span class="comment"># cat vars  # 自定义修改如下内容</span></div><div class="line"></div><div class="line"><span class="comment"># vi vars</span></div><div class="line">	export KEY_COUNTRY=<span class="string">"CN"</span></div><div class="line">	export KEY_PROVINCE=<span class="string">"BJ"</span></div><div class="line">	export KEY_CITY=<span class="string">"Beijing"</span></div><div class="line">	export KEY_ORG=<span class="string">"sec"</span></div><div class="line">	export KEY_EMAIL=<span class="string">"sec@gmail.com"</span></div><div class="line">	export KEY_EMAIL=sec@gmail.com</div><div class="line">	export KEY_CN=CN</div><div class="line">	export KEY_NAME=klionsec</div><div class="line">	export KEY_OU=klionsec</div><div class="line">	export PKCS11_MODULE_PATH=changeme</div><div class="line">	export PKCS11_PIN=<span class="number">1234</span></div></pre></td></tr></table></figure></p>
<p>初始化证书变量,并生成ca和服务端证书<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># source vars</span></div><div class="line"><span class="comment"># ./clean-all  	# 把原来的证书全部清空</span></div><div class="line"><span class="comment"># ./build-ca   	# 生成根证书ca.crt和根密钥ca.key(一路按回车即可),因为vars文件已经在上面定义好了默认的变量值,生成的时候会逐个读取里面的值</span></div><div class="line"><span class="comment"># ls keys/   	# 看下刚刚生成的ca证书在keys目录里有没有</span></div><div class="line"><span class="comment"># ./build-key-server server # 为服务端生成证书和密钥(中间会有两个让你输入密码的地方,注意两次的密码要保持一致,然后按照提示输入y即可,共两次)</span></div><div class="line"><span class="comment"># ls keys/</span></div></pre></td></tr></table></figure></p>
<p>每一个登陆的VPN客户端需要有一个证书,每个证书在同一时刻只能供一个客户端连接,下面开始生成客户端证书,注意这个是不带密码的<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ./build-key client  # 为客户端生成证书和密钥(中间也会有两个让你输入密码的地方,跟上面保持一致,然后按照提示输入y即可,共两次)</span></div><div class="line"><span class="comment"># ll keys/</span></div></pre></td></tr></table></figure></p>
<p>创建带密码的客户端证书<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ./build-key-pass ett  带密码的证书,即使你拿到了证书,如果没密码也不行</span></div><div class="line"><span class="comment"># ll keys/</span></div></pre></td></tr></table></figure></p>
<p>生成秘钥协议文件<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ./build-dh     # 创建迪菲·赫尔曼密钥,会生成dh2048.pem文件(生成过程可能会比较慢,在此期间不要去中断它)</span></div><div class="line"><span class="comment"># ll keys/</span></div><div class="line"><span class="comment"># openvpn --genkey --secret keys/ta.key  # 生成ta.key文件(防DDos攻击,UDP淹没等恶意攻击)</span></div></pre></td></tr></table></figure></p>
<p>7,创建并配置openvpn服务器端配置文件,将需要用到的openvpn证书和密钥复制一份到创建好的keys目录中<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># mkdir -pv /etc/openvpn</span></div><div class="line"><span class="comment"># cp -r keys/ /etc/openvpn/</span></div><div class="line"><span class="comment"># cd ../../</span></div><div class="line"><span class="comment"># cp sample-config-files/&#123;server.conf,client.conf&#125; /etc/openvpn/</span></div><div class="line"><span class="comment"># tree /etc/openvpn/</span></div><div class="line"><span class="comment"># cd  /etc/openvpn/</span></div><div class="line"><span class="comment"># cp -a server.conf server.conf.bak</span></div><div class="line"><span class="comment"># grep '^[^#;]' /etc/openvpn/server.conf</span></div><div class="line"><span class="comment"># grep '^[^#;]' /etc/openvpn/server.conf &gt;&gt; tmp.txt</span></div><div class="line"><span class="comment"># cat tmp.txt &gt; server.conf</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 服务端完整配置</span></div><div class="line"></div><div class="line">local <span class="number">192.168</span>.<span class="number">3.30</span></div><div class="line">port <span class="number">1194</span></div><div class="line">proto tcp</div><div class="line">dev tun</div><div class="line">ca /etc/openvpn/keys/ca.crt</div><div class="line">cert /etc/openvpn/keys/server.crt</div><div class="line">key /etc/openvpn/keys/server.key </div><div class="line">dh /etc/openvpn/keys/dh1024.pem</div><div class="line">server <span class="number">10.8</span>.<span class="number">0</span>.<span class="number">0</span> <span class="number">255.255</span>.<span class="number">255.0</span></div><div class="line">push <span class="string">"redirect-gateway def1 bypass-dhcp"</span></div><div class="line">push <span class="string">"dhcp-option DNS 114.114.114.114"</span></div><div class="line">push <span class="string">"dhcp-option DNS 8.8.8.8"</span></div><div class="line">client-to-client</div><div class="line">ifconfig-pool-persist ipp.txt</div><div class="line">keepalive <span class="number">10</span> <span class="number">120</span></div><div class="line">comp-lzo</div><div class="line">duplicate-cn </div><div class="line">client-to-client</div><div class="line">persist-key</div><div class="line">persist-tun</div><div class="line">status openvpn-status.log</div><div class="line">log /etc/openvpn/openvpn.log</div><div class="line">verb <span class="number">3</span></div></pre></td></tr></table></figure>
<p>8,开始配置内核和防火墙(要允许openvpn),启动服务,并让其自启动<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">开启系统路由转发</div><div class="line"><span class="comment"># sed -i '/net.ipv4.ip_forward/s/0/1/' /etc/sysctl.conf</span></div><div class="line"><span class="comment"># sysctl -p  让其立马生效</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">如果开启了iptables,记得把<span class="number">1194</span>端口允许一下</div><div class="line"><span class="comment"># iptables -A INPUT -p tcp --dport 1194 -j ACCEPT</span></div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">启动openvpn</div><div class="line"><span class="comment"># /usr/local/sbin/openvpn --config /etc/openvpn/server.conf &amp;</span></div><div class="line"><span class="comment"># netstat -tulnp | grep vpn</span></div><div class="line"><span class="comment"># echo "/usr/local/sbin/openvpn --config /etc/openvpn/server.conf &amp;" &gt;&gt; /etc/rc.local</span></div><div class="line"><span class="comment"># tail -n 20 /etc/rc.local</span></div><div class="line"><span class="comment"># ifconfig  -a    openvpn一旦启动后就会多出一个tun0的网卡</span></div></pre></td></tr></table></figure>
<p><img src="/img/start openvpn.png" alt=""><br><br><img src="/img/centos ipaddr.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">把openvpn脚本加入系统自启动,不一定非要这样做</div><div class="line"><span class="comment"># cp sample-scripts/openvpn.init /etc/init.d/openvpn</span></div><div class="line"><span class="comment"># chmod 700 /etc/init.d/openvpn</span></div><div class="line"><span class="comment"># chkconfig --level 2345 openvpn on</span></div><div class="line"><span class="comment"># chkconfig --list</span></div><div class="line"><span class="comment"># /etc/init.d/openvpn restart  会有报错</span></div><div class="line"><span class="comment"># vi /etc/init.d/openvpn     把148行的*.conf改成server.conf,这个目录下不能有多个.conf否则会被干扰到</span></div><div class="line"><span class="comment"># /etc/init.d/openvpn restart  正常启动</span></div><div class="line"><span class="comment"># lsof -i :1194</span></div></pre></td></tr></table></figure></p>
<p>9,创建客户端配置文件 client.ovpn<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">win openvpn客户端下载:</div><div class="line"><span class="symbol">http:</span>/<span class="regexp">/swupdate.openvpn.org/community</span><span class="regexp">/releases/openvpn</span>-<span class="number">2.2</span>.<span class="number">2</span>-install.exe</div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">将 ca.crt client.crt client.key client.ovpn 文件复制到<span class="symbol">C:</span>\Program Files\OpenVPN\config[这里是我自己的openvpn客户端的安装目录,你要换成你自己的]</div></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># client.ovpn[客户端]完整配置如下 </span></div><div class="line"></div><div class="line">client</div><div class="line">dev tun</div><div class="line">proto tcp</div><div class="line">remote <span class="number">192.168</span>.<span class="number">3.30</span> <span class="number">1194</span></div><div class="line">resolv-<span class="keyword">retry</span> infinite</div><div class="line">nobind</div><div class="line">persist-key</div><div class="line">persist-tun</div><div class="line">ca ca.crt</div><div class="line">cert client.crt</div><div class="line">key client.key</div><div class="line">ns-cert-type server</div><div class="line">comp-lzo</div><div class="line">verb <span class="number">3</span></div></pre></td></tr></table></figure>
<p><img src="/img/win openvpn.png" alt=""><br><br><img src="/img/win client.png" alt=""><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">之后,右键<span class="string">'管理员权限'</span>运行openvpn客户端,点击<span class="string">'connect'</span>,进行连接即可,这里虽然连上了,但还有些问题,细心的朋友可能也已经发现了,我的vpn网关貌似没了,也就是说我虽然连上了,但还是上不了网,查了可半天也没看到问题在哪儿,朋友们如果看到哪步配置里有错,麻烦也告知下本人,感激不尽</div></pre></td></tr></table></figure>
<p><img src="/img/win openvpn res.png" alt=""><br><br><img src="/img/win openvpn connect res.png" alt=""><br><br><img src="/img/openvpn ipconfig .png" alt=""><br></p>
<p>10,在linux下安装openvpn客户端<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">像上面安装openvpn一模一样,再到要连接vpn的服务器上安装一遍,把客户端证书和配置拷贝到相应(<span class="regexp">/etc/openvpn</span><span class="regexp">/)的目录下然后以上面启动openvpn服务的方式启动客户端,只不过这次要加载的配置文件不再是server.conf而是client.conf</span></div></pre></td></tr></table></figure></p>
<p>11,搭建openvpn过程中,容易出现的一些错误及解决办法:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">时区不统一造成的错误,</div><div class="line">连上了却不能上网,通常是网关或者路由转发的问题</div></pre></td></tr></table></figure></p>
<p><br></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2014/12/09/pptp-config/">
                web渗透第一步之信息搜集 [win 2008 配置pptp]
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-12-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/vpn-config/">vpn config</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p><br></p>
<h5 id="1-什么是vpn"><a href="#1-什么是vpn" class="headerlink" title="1,什么是vpn:"></a>1,什么是vpn:</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">学名称虚拟专网,即在公共网络中搭建的一条专有通道,当用户连接到vpn服务器时,只需提供正确的账号密码即可进入到这条专用通道内,之后所有的通信数据也都会被这层通道包裹着来回传输,上面这样说可能有点儿不太形象,你可以把它想成我们之前所说的正向代理,或者<span class="string">'翻墙'</span>,当然啦,vpn的用途远远不止这点,下面我们开始细说</div></pre></td></tr></table></figure>
<h5 id="下面是一些vpn应用场景"><a href="#下面是一些vpn应用场景" class="headerlink" title="下面是一些vpn应用场景:"></a>下面是一些vpn应用场景:</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>,公司员工想在家里通过公网直接访问到公司内网的服务器,即远程办公</div><div class="line"><span class="number">2</span>,学生放假回家,想在家里直接通过公网访问到自己学校内网的图书馆网站查阅资料</div><div class="line"><span class="number">3</span>,公司有好几个机房,现在有需求,希望把分布在各地的机房内的机器都连到同一个内网中(当然啦,域也是一种方案)</div><div class="line"><span class="number">4</span>,大型跨国组织公司想把分布在不同国家不同地域的分支机构连到同一个内网中,方便大家处理公司业务</div><div class="line"><span class="number">5</span>,通过各种类型的vpn隧道来bypass掉天朝的gfw</div><div class="line"><span class="number">6</span>,入侵者希望通过vpn来暂时性的隐匿自己[你知道的,tor也许会更好,有机会再说]……</div><div class="line"><span class="number">7</span>,等等……</div></pre></td></tr></table></figure>
<h5 id="2-一些常见的vpn隧道协议"><a href="#2-一些常见的vpn隧道协议" class="headerlink" title="2,一些常见的vpn隧道协议:"></a>2,一些常见的vpn隧道协议:</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">PPTP： 点对点隧道协议,其将控制包与数据包分开,控制包采用TCP控制,加密通信,搭建过程极其方便简单,非常适合个人使用</div><div class="line">L2TP： PPTP和L2TP两种连接类型在性能上差别不大,可以把L2TP理解成pptp的升级版,如果使用PPTP不正常,可更换为L2TP</div><div class="line">IPSEC(Openswan)：把来回通信的数据加密放到隧道中传输,然后就是正常的封装和解封装过程,防止中间人窃听,常用于多个不同地域的机房内网互连</div><div class="line">SSLVpn(openvpn)：它的技术核心是虚拟网卡,基于SSL协议(加密库)实现,这也意味着它全程通信加密,而且非常稳定,也是个人极力推荐可用于实战渗透用途的vpn,跟其它vpn有些不一样的是,它属于C/S架构软件[即需要客户端和服务端],深入的通信过程还是比较复杂的,这里就不细说了,搭建自然也会稍微繁琐一点</div></pre></td></tr></table></figure>
<h5 id="3-接下来-我们就来简单搞搞清楚vpn的大致工作流程-为了让大家能够快速理解这个东西-会尽量说的比较简单通俗一些-当然-vpn具体的工作细节还是非常复杂的-不过-那并不是咱们今天的重点-我们只需要会搭建-会使用-能排一些简单的错-会看日志-即可-暂时不必过于深究协议层的东西-毕竟-你并非想自己开发各类vpn工具-大多时候学习亦是如此-要取舍得当-别偏离重点了就行-下面是我用自己的话对vpn工作特性的一点简要叙述-可能听着不太专业-但目的也是为了让大家更好的去理解-毕竟我们并不是在搞学术研究-所以-大可不必在一些专业名词上死扣-那样对我们的实际技术的提高其实并没有多大帮助-不是吗-废话说完-咱们就来粗略走一遍vpn的通信过程"><a href="#3-接下来-我们就来简单搞搞清楚vpn的大致工作流程-为了让大家能够快速理解这个东西-会尽量说的比较简单通俗一些-当然-vpn具体的工作细节还是非常复杂的-不过-那并不是咱们今天的重点-我们只需要会搭建-会使用-能排一些简单的错-会看日志-即可-暂时不必过于深究协议层的东西-毕竟-你并非想自己开发各类vpn工具-大多时候学习亦是如此-要取舍得当-别偏离重点了就行-下面是我用自己的话对vpn工作特性的一点简要叙述-可能听着不太专业-但目的也是为了让大家更好的去理解-毕竟我们并不是在搞学术研究-所以-大可不必在一些专业名词上死扣-那样对我们的实际技术的提高其实并没有多大帮助-不是吗-废话说完-咱们就来粗略走一遍vpn的通信过程" class="headerlink" title="3,接下来,我们就来简单搞搞清楚vpn的大致工作流程,为了让大家能够快速理解这个东西,会尽量说的比较简单通俗一些,当然,vpn具体的工作细节还是非常复杂的,不过,那并不是咱们今天的重点,我们只需要会搭建,会使用,能排一些简单的错[会看日志]即可,暂时不必过于深究协议层的东西,毕竟,你并非想自己开发各类vpn工具,大多时候学习亦是如此,要取舍得当,别偏离重点了就行,下面是我用自己的话对vpn工作特性的一点简要叙述,可能听着不太专业,但目的也是为了让大家更好的去理解,毕竟我们并不是在搞学术研究,所以,大可不必在一些专业名词上死扣,那样对我们的实际技术的提高其实并没有多大帮助,不是吗,废话说完,咱们就来粗略走一遍vpn的通信过程:"></a>3,接下来,我们就来简单搞搞清楚vpn的大致工作流程,为了让大家能够快速理解这个东西,会尽量说的比较简单通俗一些,当然,vpn具体的工作细节还是非常复杂的,不过,那并不是咱们今天的重点,我们只需要会搭建,会使用,能排一些简单的错[会看日志]即可,暂时不必过于深究协议层的东西,毕竟,你并非想自己开发各类vpn工具,大多时候学习亦是如此,要取舍得当,别偏离重点了就行,下面是我用自己的话对vpn工作特性的一点简要叙述,可能听着不太专业,但目的也是为了让大家更好的去理解,毕竟我们并不是在搞学术研究,所以,大可不必在一些专业名词上死扣,那样对我们的实际技术的提高其实并没有多大帮助,不是吗,废话说完,咱们就来粗略走一遍vpn的通信过程:</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">正常情况下我们和公网进行的任何通信,都必须先通过本地<span class="string">'网关'</span>出去,再通过<span class="string">'网关'</span>回来[俗称nat转换],你可以暂时把vpn想成你家里的路由器,因为它们在功能上有些类似,我们知道,在家里,正常上网的情况下是通过本地路由网关实现的,但一旦你连上了vpn,以后上网的网关就不再是你家里路由器上的那个了,而是你vpn服务器上的<span class="string">'vpn网关'</span>,因为在你拨通vpn以后,你的机器就会进入到vpn的内网中,而这个网关自然就变成了vpn服务器上的那个网关,也就是说你和公网进行的任何通信都要先交给vpn网关,回来的数据再通过vpn网关[nat],经过vpn隧道响应给你,举个简单的例子,当你挂上vpn以后去访问某个网站,用于解析域名的dns,其实是你vpn服务器所在的ip的当地的dns服务器,这样看来,也就不难理解为什么vpn会慢了,因为你每次请求响应都要经过两层节点,家的路由器网关和vpn网关,数据也都是通过包裹[封装]在vpn隧道中返回给你的</div></pre></td></tr></table></figure>
<h5 id="4-vpn对于我们实际渗透的意义-至于它在真实生产环境的好处-这里就不说了-可自行谷歌-对于一些大型跨国公司或组织-vpn还是一种比较靠谱的协作方案"><a href="#4-vpn对于我们实际渗透的意义-至于它在真实生产环境的好处-这里就不说了-可自行谷歌-对于一些大型跨国公司或组织-vpn还是一种比较靠谱的协作方案" class="headerlink" title="4,vpn对于我们实际渗透的意义,至于它在真实生产环境的好处,这里就不说了,可自行谷歌,对于一些大型跨国公司或组织,vpn还是一种比较靠谱的协作方案"></a>4,vpn对于我们实际渗透的意义,至于它在真实生产环境的好处,这里就不说了,可自行谷歌,对于一些大型跨国公司或组织,vpn还是一种比较靠谱的协作方案</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>)隐藏入侵者真实ip,作为入侵者的第一道保护屏障,能熟练快速配置各类vpn是每个入侵者最基本的基本功,如果条件允许的话,你甚至可以多套几层vpn,无疑,这样速度肯定也会慢很多</div><div class="line"><span class="number">2</span>)加大目标溯源取证的难度和成本</div><div class="line"><span class="number">3</span>)灵活性好,主要是拥有了一台自己可以随意操作的公网ip,这样在实际渗透中会帮我们很多的忙</div><div class="line"><span class="number">4</span>)是所有入侵者,真正走向入侵的第一步</div></pre></td></tr></table></figure>
<h5 id="5-理解了vpn大致的工作流程以后-具体的配置就非常简单了-这里暂时以win下的pptp为例-进行一些实际的搭建配置"><a href="#5-理解了vpn大致的工作流程以后-具体的配置就非常简单了-这里暂时以win下的pptp为例-进行一些实际的搭建配置" class="headerlink" title="5,理解了vpn大致的工作流程以后,具体的配置就非常简单了,这里暂时以win下的pptp为例,进行一些实际的搭建配置"></a>5,理解了vpn大致的工作流程以后,具体的配置就非常简单了,这里暂时以win下的pptp为例,进行一些实际的搭建配置</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>) 因为用vpn的主要目的还是为了保护我们自己,所以对于vpn的宿主系统,一系列的安全策略是非常必要的,比如,在win中你可以通过tcp/ip筛选限制<span class="number">3389</span>[端口最好不要默认],vpn,还有你自己经常要用的这几个端口流量可以正常进出,其余的端口一律禁止,另外,启用系统禁ping,尽可能防止别人ddos,最好不要再在vpn服务器上同时搭建别的服务,尽可能减少别人下手的机会,总之,跑的东西越少越好,恪守<span class="string">'最少服务'</span>原则,当然,如果别人手里有个可以随意远程溢出的0day,那就没什么好说的了,要想真正彻底防住,几乎是不太现实的,我们只能尽自己的能力,尽可能的保护自己,最后建议大家在实际渗透中全部用英文系统,具体原因你应该懂的,对了,还有防火墙,你可以根据自己的实际需求来,开了筛选,其实防火墙你就可以不用开了……</div><div class="line"><span class="number">2</span>) 尽可能的禁用掉系统和vpn的各种日志审核记录功能及其所对应的服务,在系统里留的日志越少越好(防止被反渗透),记得定时上去看下日志,如果没看到什么特别的情况,定时把日志清空一下,方便自己分析</div><div class="line"><span class="number">3</span>) 条件允许的情况下,务必把系统补丁打到最新,改掉rdp的默认端口,用户密码要严格遵守复杂性要求,大小写数字特殊字符随机排列,越随机越好,长度推荐至少<span class="number">12</span>位以上,防止无聊的人爆破,如果是团队共用vps,密码最好一个人知道就可以了,严禁管理权限泛滥……</div><div class="line"><span class="number">4</span>) 推荐在vpn上装个wireshark,可以时常去看看机器流量,或者留个隐蔽点的监控脚本也行,尽可能防止被别人反桶回来,不要以为哪些只是电影里才会出现的场景[很正常的情况],谨慎小心,方得永生……</div><div class="line"><span class="number">5</span>) 切记千万不要在vps上保留任何容易暴露私人信息的任何东西,这极度,非常,特别重要,包括在各种工具里的有可能暴露私人信息的特征也务必要全部清干净……</div><div class="line"><span class="number">6</span>) 用于入侵的vps,推荐一个月换一次,最迟两月换一次,换机房,换ip段,换国家,搞定一个项目后,最好把vps系统也都重装一下,买vps,尽量找一些靠谱的厂商,擦亮你的眼睛,这个也非常重要……</div><div class="line"><span class="number">7</span>) 尽量不要经常利用vps进行任何大流量的动作,其实,在大多数的入侵过程下,我们根本没必要大规模持久性扫描,极易容易触发报警而被机房封,如果你经常干这事儿,只能说明你的入侵思路可能有问题,不妨多换换姿势,一般工具能扫出来的洞,基本人工很快也能看到了,好了,忍不住多说了一句废话,这方面的东西,后面还会大量的篇幅专门进行说明,这里就先到此为止吧 </div><div class="line"><span class="number">8</span>) 上面提供的仅仅都是一些极其简单的参考建议,其他更多的注意事项,最终还是要根据您自己的实际需求来……</div></pre></td></tr></table></figure>
<h5 id="6-说完简单的注意事项后-我们准备开始真正在windows-server-2008R2上配置pptp-vpn"><a href="#6-说完简单的注意事项后-我们准备开始真正在windows-server-2008R2上配置pptp-vpn" class="headerlink" title="6,说完简单的注意事项后,我们准备开始真正在windows server 2008R2上配置pptp vpn"></a>6,说完简单的注意事项后,我们准备开始真正在windows server 2008R2上配置pptp vpn</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>)首先,找到<span class="string">'服务'</span>,关闭并禁用 <span class="string">"windows防火墙"</span> ,将<span class="string">'远程路由'</span>设为自启动,之后重启系统(防火墙关了以后,最好重启下)</div></pre></td></tr></table></figure>
<p><img src="/img/disabled firewall.png" alt=""><br><br><img src="/img/enabled routing and remote access.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">2</span>)重启完毕进入系统后,打开<span class="string">'服务器管理器'</span>,找到<span class="string">'角色'</span>,点击<span class="string">'添加角色'</span>,勾选<span class="string">'网络策略和访问服务'</span>,然后再勾选<span class="string">'路由和远程访问'</span>,点击<span class="string">'安装'</span></div></pre></td></tr></table></figure></p>
<p><img src="/img/add roles.png" alt=""><br><br><img src="/img/network policy and access services.png" alt=""><br><br><img src="/img/remote access services routing.png" alt=""><br><br><img src="/img/win pptp install.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">3</span>)下面是具体的安装过程和安装完成后的状态,安装完成后点击关闭,回到<span class="string">'服务器管理器'</span>中</div></pre></td></tr></table></figure></p>
<p><img src="/img/install succeed.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">4</span>)安装过程中如果没什么问题,我们就开始配置pptp,到<span class="string">'服务器管理器'</span>中,右键<span class="string">'路由远程访问'</span>,点击<span class="string">'配置启用远程路由访问'</span>,选择<span class="string">'自定义配置'</span></div></pre></td></tr></table></figure></p>
<p><img src="/img/win pptp config.png" alt=""><br><br><img src="/img/custom configuration.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">5</span>)勾选<span class="string">'vpn'</span>和<span class="string">'nat'</span> ,点击完成,即可开始自动安装并启动vpn服务,中间会提示个警告,说网络策略服务冲突,因为我们根本没配置nps,所以就不用管它了</div></pre></td></tr></table></figure></p>
<p><img src="/img/finish config res.png" alt=""><br><br><img src="/img/vpn and nat.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">6</span>)选择启动服务,启动以后它会应用刚才的配置到服务中,配置完成后,vpn的配置界面就会自动跳出来</div></pre></td></tr></table></figure></p>
<p><img src="/img/start servicves.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">7</span>)这时再右键<span class="string">'路由和远程访问'</span>,选择<span class="string">'属性'</span>,找到<span class="string">'ipv4'</span>选项,设置为<span class="string">'静态ip地址池'</span>(这个ip地址池其实就是vpn的内网ip段),并禁用该选项日志记录功能</div></pre></td></tr></table></figure></p>
<p><img src="/img/pptpp protiest.png" alt=""><br><br><img src="/img/ipaddr add.png" alt=""><br><br><img src="/img/ipaddr disabled log.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">8</span>)在下面的<span class="string">'ipv4'</span>中,找到<span class="string">'公共'</span>选项,右键属性,禁用该项日志</div></pre></td></tr></table></figure></p>
<p><img src="/img/general disabled log.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">9</span>)右键 <span class="string">'igmp属性'</span>,禁用该项日志</div></pre></td></tr></table></figure></p>
<p><img src="/img/igmp disabled log.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">10</span>)右键<span class="string">'nat'</span>,新建网卡接口,这里有两个接口,一个外网卡,一个内网卡,这一步非常关键,一定要在内网卡上启用nat</div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="number">1</span>)首先,新建外部网卡接口,<span class="string">'internal'</span>,从名字也应该能判断,这个肯定是用于公网通信的外网卡</div></pre></td></tr></table></figure>
<p><img src="/img/add interface internal.png" alt=""><br><br><img src="/img/add interface internal res.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="number">2</span>)之后再右键新建网卡建接口,这个网卡是用于vpn内网通信的内网卡,记得务必在此网卡上勾选启用<span class="string">'nat'</span></div></pre></td></tr></table></figure></p>
<p><img src="/img/add interface local.png" alt=""><br><br><img src="/img/add interface local res.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">11</span>) 至此,pptp vpn服务端就算搭建配置完成了,不过,现在我们还没有用于登陆vpn的账号密码,所以,需要先新建一个系统用户(没错,win下的pptp vpn用户直接就是系统用户),并赋予其拨入权限,记得一定要用户给拨入权限,要不然客户端是拨不上的,其实,到这里你可能会忍不住多想一下,既然vpn用的是系统用户,如果目标也配置并开启了vpn服务,我们是不是可以直接给它的管理员悄悄的赋予下拨入权限,然后作为我们进一步渗透内网的桥梁岂不是很好,这里我们暂时先这样想着,后续,还会有大量的篇幅对这些东西进行详细的说明</div></pre></td></tr></table></figure></p>
<p><img src="/img/new add user.png" alt=""><br><br><img src="/img/new add user res.png" alt=""><br><br><img src="/img/pptp server ip.png" alt=""><br><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">12</span>) 看下pptp服务器所在的ip,然后开始到客户端系统中配置vpn,进行连接测试,这里以win7作为客户端系统,看到vpn已正常连接,在客户端系统中也会多一个ip,其实就是vpn内网ip地址池里设置好的ip段,之后再在win7上ping下vpn服务器的内网ip,看看能不能通,能通基本就没什么问题了</div></pre></td></tr></table></figure></p>
<p><img src="/img/client connect.png" alt=""><br><br><img src="/img/internetal connect.png" alt=""><br><br><img src="/img/pptp server ip connect.png" alt=""><br><br><img src="/img/connect succed.png" alt=""><br><br><img src="/img/connect status.png" alt=""><br><br><img src="/img/tracert.png" alt=""><br></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">13</span>) 这时,我们在服务器端已经看到有一个vpn客户端在线,pptp的默认端口是<span class="number">1723</span></div></pre></td></tr></table></figure>
<p><img src="/img/pptp connect sockest.png" alt=""><br><br><br></p>
<h5 id="一些小结"><a href="#一些小结" class="headerlink" title="一些小结:"></a>一些小结:</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;至此,在windows 2008上的pptp vpn配置基本就全部完成了,可以看到,整个过程并没什么实际的技术含量,在这儿也就不多做说明了,当然vpn对我们的作用也并非仅限于于此,后面在实际的渗透过程中,还有更详细的说明,虽然这次是在2008上配置的,但和在2003,2012上配置pptp几乎没什么区别,基本流程都差不多,最多可能安装的地方不太一样,希望大家能举一反三,多尝试,熟了就好了<br><br></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2014/12/08/ubuntu-pptp/">
                web渗透第一步 之 信息搜集 [ ubuntu 14.04LTS 快速安装配置pptp ]
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-12-08</span>
            
            
            
                <span class="category">
                    <a href="/categories/vpn-config/">vpn config</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p><br></p>
<h4 id="一点安装配置前的准备工作"><a href="#一点安装配置前的准备工作" class="headerlink" title="一点安装配置前的准备工作:"></a>一点安装配置前的准备工作:</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">先最小化安装好ubuntu server <span class="number">14.04</span> LTS,除了ssh,尽量不要再勾选其它的服务,顺手做些简单的系统安全优化,尽量保证系统的纯净</div></pre></td></tr></table></figure>
<h4 id="关于vpn的具体用途-在前面已有详细说明-这里就不再赘述-下面会专门说明如何在linux-这里以ubuntu14-04为例-中快速搭建配置pptp"><a href="#关于vpn的具体用途-在前面已有详细说明-这里就不再赘述-下面会专门说明如何在linux-这里以ubuntu14-04为例-中快速搭建配置pptp" class="headerlink" title="关于vpn的具体用途,在前面已有详细说明,这里就不再赘述,下面会专门说明如何在linux(这里以ubuntu14.04为例)中快速搭建配置pptp"></a>关于vpn的具体用途,在前面已有详细说明,这里就不再赘述,下面会专门说明如何在linux(这里以ubuntu14.04为例)中快速搭建配置pptp</h4><p>1)首先,在Ubuntu中安装pptp服务端<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># apt-get install pptpd -y</span></div><div class="line"><span class="comment"># echo $?</span></div></pre></td></tr></table></figure></p>
<p>2)服务端安装完成后,我们就可以开始配置pptpd了,先看下本机ip,等会儿要写到配置文件中<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ifconfig -a</span></div></pre></td></tr></table></figure></p>
<p>3)编辑pptpd的主配置文件,设置好本机ip和vpn 的内网iP地址池(分配vpn内网ip要用)<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># vi /etc/pptpd.conf</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">localip <span class="number">192.168</span>.<span class="number">3.185</span>        本机ip,如果用的是vps,那这里就写vps的公网ip</div><div class="line">remoteip <span class="number">172.16</span>.<span class="number">110.1</span>-<span class="number">20</span>     设置vpn的内网ip地址池</div></pre></td></tr></table></figure>
<p>4)编辑pptpd的dns配置文件,设置好用于解析的dns服务器ip,推荐使用8.8.8.8<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># vi /etc/ppp/pptpd-options</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ms-dns <span class="number">8.8</span>.<span class="number">8.8</span></div><div class="line">ms-dns <span class="number">114.114</span>.<span class="number">114.114</span></div></pre></td></tr></table></figure>
<p>5) 添加系统用户,没错,在linux中pptp也直接用的是系统用户,作为我们的vpn登录账户[不过,大多数可能都是nologin的]<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># useradd xlion</span></div><div class="line"><span class="comment"># passwd  xlion</span></div></pre></td></tr></table></figure></p>
<p>6) 把该账号密码添加到对应的pptp配置文件中,格式: username  pptpd password *,如下:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># vi /etc/ppp/chap-secrets</span></div><div class="line">xlion  pptpd admin *</div></pre></td></tr></table></figure></p>
<p>7) 重启pptpd服务,记得顺手看下服务有没有起来<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /etc/init.d/pptpd restart</span></div><div class="line"><span class="comment"># netstat -tulnp | grep "1723"</span></div></pre></td></tr></table></figure></p>
<p>8) 编辑sysctl.conf 文件,开启系统的路由转发功能,如下<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># vi /etc/sysctl.conf  </span></div><div class="line">net.ipv4.ip_forward=<span class="number">1</span> 将ip_forward 值改为 <span class="number">1</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># sysctl -p  重新读取sysctl配置</span></div></pre></td></tr></table></figure>
<p>9) 如果你已经安装并且开启了iptables,可以顺手把下面的规则加进去,要不然,你可能会发现客户端连不上vpn,这里的ip段是vpn的内网ip段,网卡接口是外网卡接口<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># iptables -t nat -A POSTROUTING -s 172.16.110.0/24 -o  eth0 -j MASQUERADE</span></div></pre></td></tr></table></figure></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">设置下mtu,正常情况下<span class="number">1200</span>即可,防止包过大,可以不用设置</div><div class="line"><span class="comment"># iptables -A FORWARD -s 172.16.110.0/24 -p tcp -m tcp --tcp-flags SYN,RST SYN -j TCPMSS --set-mss 1200  </span></div><div class="line"><span class="comment"># iptables-save &gt; /etc/iptables-rules   </span></div><div class="line"><span class="comment"># /etc/init.d/iptables restart</span></div></pre></td></tr></table></figure>
<p>10) 让pptpd 服务随系统自启动<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># update-rc.d pptpd enable</span></div></pre></td></tr></table></figure></p>
<p>11) 开始配置客户端,进行连接测试,有时候,你可能会遇到这样的情况,虽然pptp客户端是连接成功了,但无法正常上网,ping的结果显示超时,绝大多数原因都是防火墙在搞鬼,你可以利用下面的命令直接把防火墙关掉,或者允许1723端口能正常进出应该就没问题了,至此,在ubuntu 14.04 LTS中搭建配置pptpd基本就算完成了<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ufw status</span></div><div class="line"><span class="comment"># ufw disable  		停止防火墙并删除自启动</span></div><div class="line"><span class="comment"># ufw allow 1723    	允许外部的1723端口访问</span></div><div class="line"><span class="comment"># ufw delete allow 1723	禁止外部访问本机的1723端口</span></div></pre></td></tr></table></figure></p>
<p><img src="/img/pptp server ubuntu.png" alt=""><br><br><img src="/img/ubuntu pptpd res.png" alt=""><br><br><img src="/img/ubuntu pptpd res ping .png" alt=""><br><br><img src="/img/ubuntu pptpd tracert.png" alt=""><br></p>
<p>12) 是不是觉得手敲命令太枯燥了呢,把它写成shell脚本吧,其实非常简单,稍微把命令堆砌调整一下即可,稍后会把自己的脚本都提供给大家,可根据自己的实际需求再稍微改下<br><br></p>
<h5 id="一些小结"><a href="#一些小结" class="headerlink" title="一些小结:"></a>一些小结:</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;通观全文并没什么实际的技术含量,安装配置和win下基本也没有太大差别,只不过一个是靠图形界面,另一个是靠改配置文件来完成的,完全是看个人习惯,可能我自己比较习惯linux,所以更喜欢在linux中配置pptp,如果你觉得windows比较方便,那你就直接在windows上配置就好了,前提是要严格遵循前面所提到的一些关于系统的各种安全策略配置,不同的系统平台策略设置可能不太一样,后面会有专门的篇幅来讲解linux系统的安全部署,这里只要暂时能满足把服务先跑起来能用上即可,关于安全部署方面的东西,后面再详细说,因为你vpn宿主系统的安全也会直接关系到你自己的安全,大家可能在这上面还要多花点儿心思才是,不早了,睡觉咯,安……！</p>
<p><br></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2014/03/20/sec-proto-auth/">
                安全协议和认证服务
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-03-20</span>
            
            
            
                <span class="category">
                    <a href="/categories/secpic/">secpic</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p><img src="/img/secprotoauth.jpg" alt="&quot;安全协议和认证服务&quot;"><br></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2014/01/11/proctice/">
                各类漏洞演练平台汇总
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-01-11</span>
            
            
            
                <span class="category">
                    <a href="/categories/other/">other</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p><img src="/img/Practice.png" alt="&quot;各类漏洞演练平台汇总&quot;"><br></p>

        </div>
    

</div>
            
        </section>
    </div>
</div>



    <div class="row">
        <div class="col-sm-12">
            <div class="wrap-pagination">
                <a class="" href="/page/12/">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </a>
                <a class="disabled" href="/">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>




</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">

<center>如果有朋友需要优质vps,可以去<a href="http://www.laoxuehost.com/vps/" target="_blank">老薛</a>买,异常稳定,本人已自用多年,使用下面的优惠码,会有 <font color="red">25% </font>的折扣哦...</center><br>
至少,在同等质量的vps中,已经算是非常好的了,起码自己平时 youtube 1080 基本是没什么问题<br>
<br>
<a href="http://www.laoxuehost.com/vps/" target="_blank" > 购买老薛vps </a> &nbsp;&nbsp;&nbsp;&nbsp; 优惠码: <font color="red">nuddle123</font><br>
<br><a href="/img/laoxue.png" target="_blank">优惠码具体使用方法</a><br>
<br>
<span>另,有偿提供各类服务搭建,配置加固[lamp,lnmp,vpn...],服务器代维<font color="red"> &nbsp;&nbsp;klionsec@gmail.com</span><br>
<br>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">博客累计访问共 <span id="busuanzi_value_site_pv"></span> 次</span>
<span id="busuanzi_container_site_uv">
访客数累计 <span id="busuanzi_value_site_uv"></span> 人
</span>
<span id="showDays"></span>
<script>
var birthDay = new Date("12/20/2014");
var now = new Date();
var duration = now.getTime() - birthDay.getTime(); 
var total= Math.floor(duration / (1000 * 60 * 60 * 24));
document.getElementById("showDays").innerHTML = " 其实博客已默默坚挺了 "+total+" 天";
</script>
<br>
<br>
多年实战渗透经验积累[大中小型网络] + 娴熟的底层及脚本编写能力 + 熟练的协议分析能力 + 多个大中型安全架构实际设计部署经验 + 良好的逆向分析能力[一定的0day挖掘能力] = 合格安全架构师
<br>
<br>
<font size=6 color="white">唯一不变的,就是一直在变</font>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klionsec">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:klionsec@gmail.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    <h2>blog by klion</h2>
                </div>
            </div>
        </div>
    </div>
		<audio autoplay="autoplay">
		<source src="/img/Good Time.mp3" type="audio/mpeg" />
		</audio>
</footer>



<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>